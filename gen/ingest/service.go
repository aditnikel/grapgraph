// Code generated by goa v3.24.1, DO NOT EDIT.
//
// ingest service
//
// Command:
// $ goa gen github.com/aditnikel/grapgraph/design

package ingest

import (
	"context"
)

// High-speed financial event ingestion service.
type Service interface {
	// Accepts one or more financial events (Payment, Login, etc.) and updates the
	// relationship graph.
	PostEvent(context.Context, *BulkCustomerEvents) (res *BulkIngestResponse, err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "grapgraph"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "0.0.1"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "ingest"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [1]string{"post_event"}

// BulkCustomerEvents is the payload type of the ingest service post_event
// method.
type BulkCustomerEvents struct {
	// List of events to ingest in-order.
	Events []*CustomerEvent
}

// BulkIngestResponse is the result type of the ingest service post_event
// method.
type BulkIngestResponse struct {
	// Whether all events were processed successfully.
	Accepted bool
	// Number of events accepted in this batch.
	AcceptedCount int
	// Number of events rejected in this batch.
	FailedCount int
}

// Information about a financial activity or user action.
type CustomerEvent struct {
	// Unique identifier of the user (e.g. u_123).
	UserID string
	// Target merchant ID or card MPAN.
	MerchantIDMpan *string
	// The type of event (PAYMENT, LOGIN, WITHDRAWAL, etc).
	EventType string
	// Timestamp of the activity (RFC3339 string or Epoch MS).
	EventTimestamp any
	// Monetary value of the transaction.
	TotalTransactionAmount *float64
	// Unique hardware ID where the activity originated.
	DeviceID *string
	// Method used (VISA, CRYPTO, etc).
	PaymentMethod *string
	// The bank that issued the instrument.
	IssuingBank *string
	// Blockchain wallet address if applicable.
	WalletAddress *string
	// Crypto exchange name if applicable.
	Exchange *string
	// Remote IP address (not stored directly in graph).
	IPAddress *string
}

// Error returned when the request payload is malformed or invalid.
type BadRequest string

// Error returns an error description.
func (e BadRequest) Error() string {
	return "Error returned when the request payload is malformed or invalid."
}

// ErrorName returns "bad_request".
//
// Deprecated: Use GoaErrorName - https://github.com/goadesign/goa/issues/3105
func (e BadRequest) ErrorName() string {
	return e.GoaErrorName()
}

// GoaErrorName returns "bad_request".
func (e BadRequest) GoaErrorName() string {
	return "bad_request"
}
